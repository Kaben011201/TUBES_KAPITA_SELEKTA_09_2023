// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "cockroachdb"
  url      = env("DATABASE_URL")
}

model Posyandu {
  id     Int      @unique @default(sequence())
  nama   String
  Admin  Admin[]
  Lansia Lansia[]
  Bumil  Bumil[]
}

model Admin {
  id         Int       @unique @default(sequence())
  email      String    @unique
  password   String
  posyandu   Posyandu? @relation(fields: [posyanduId], references: [id])
  posyanduId Int?
}

model Lansia {
  id           Int      @unique @default(sequence())
  nama         String
  nik          String
  kk           String
  jenisKelamin String
  tanggalLahir DateTime @db.Date
  tempatLahir  String
  umur         Int
  alamat       String
  alamatKK     String
  bb           Float
  tb           Float
  tensi        String
  bpjs         String

  Posyandu   Posyandu? @relation(fields: [posyanduId], references: [id])
  posyanduId Int?
}

model Bumil {
  id                Int      @unique @default(sequence())
  nama              String
  nik               String
  kk                String
  tanggalLahir      DateTime @db.Date
  tempatLahir       String
  umur              Int
  alamat            String
  alamatKK          String
  bb                Float
  tb                Float
  usiaHamil         Float
  lingkarLengan     Float
  bpjs              String
  g                 Int
  p                 Int
  a                 Int
  hpht              DateTime @db.Date
  tp                DateTime @db.Date
  hb                String
  namaSuami         String
  nikSuami          String
  tanggalLahirSuami DateTime @db.Date
  tempatLahirSuami  DateTime @db.Date

  Posyandu   Posyandu? @relation(fields: [posyanduId], references: [id])
  posyanduId Int?
}

model Bayi {
  id Int @unique @default(sequence())
}
